# Unity Way: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ö–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–º—É –ü–æ–¥—Ö–æ–¥—É

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–§–∏–ª–æ—Å–æ—Ñ–∏—è Unity Way](#—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-unity-way)
3. [–ö–æ–º–ø–æ–∑–∏—Ü–∏—è vs –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ](#–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-vs-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
4. [SOLID –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤ Unity](#solid-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–≤-unity)
5. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü–∞—Ç—Ç–µ—Ä–Ω—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
6. [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ](#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)
7. [–î—Ä–æ–±–ª–µ–Ω–∏–µ –§–∏—á –Ω–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–¥—Ä–æ–±–ª–µ–Ω–∏–µ-—Ñ–∏—á-–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
8. [Best Practices](#best-practices)
9. [–ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ü—Ä–æ–µ–∫—Ç–∞](#–ø—Ä–∏–º–µ—Ä—ã-–∏–∑-–ø—Ä–æ–µ–∫—Ç–∞)
10. [–¢–∏–ø–∏—á–Ω—ã–µ –û—à–∏–±–∫–∏](#—Ç–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏)
11. [–ß–µ–∫–ª–∏—Å—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞](#—á–µ–∫–ª–∏—Å—Ç-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
12. [GameShooter: –ü—Ä–∏–º–µ—Ä 3D –®—É—Ç–µ—Ä–∞](#gameshooter-–ø—Ä–∏–º–µ—Ä-3d-—à—É—Ç–µ—Ä–∞)
13. [–ü–∞—Ç—Ç–µ—Ä–Ω: Weapon Slot System](#–ø–∞—Ç—Ç–µ—Ä–Ω-weapon-slot-system-—Å–∏—Å—Ç–µ–º–∞-—Å–ª–æ—Ç–æ–≤-–æ—Ä—É–∂–∏—è)
14. [–ü–∞—Ç—Ç–µ—Ä–Ω: AI vs Player Controller](#–ø–∞—Ç—Ç–µ—Ä–Ω-ai-vs-player-controller)
15. [–ü–∞—Ç—Ç–µ—Ä–Ω: ConditionComponent](#–ø–∞—Ç—Ç–µ—Ä–Ω-conditioncomponent-–±–∞–∑–æ–≤—ã–π-–∫–ª–∞—Å—Å)
16. [–î—Ä–æ–±–ª–µ–Ω–∏–µ —Ñ–∏—á–∏: –°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–µ–ª—å–±—ã](#–¥—Ä–æ–±–ª–µ–Ω–∏–µ-—Ñ–∏—á–∏-—Å–∏—Å—Ç–µ–º–∞-—Å—Ç—Ä–µ–ª—å–±—ã-–≤-3d-—à—É—Ç–µ—Ä–µ)
17. [3D vs 2D: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏](#3d-vs-2d-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏)
18. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è —à—É—Ç–µ—Ä–∞](#—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-—á–µ–∫–ª–∏—Å—Ç-–¥–ª—è-—à—É—Ç–µ—Ä–∞)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

### –ß—Ç–æ —Ç–∞–∫–æ–µ Unity Way?

**Unity Way** ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–≥—Ä –Ω–∞ Unity, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–µ—Ç **–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–∞–¥ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª—É–±–æ–∫–∏—Ö –∏–µ—Ä–∞—Ä—Ö–∏–π –∫–ª–∞—Å—Å–æ–≤ –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–µ–±–æ–ª—å—à–∏–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º –∏—Ö –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è.

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

```
‚ùå –ü–õ–û–•–û (–ì–ª—É–±–æ–∫–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ):
GameObject
  ‚îî‚îÄ‚îÄ Entity
      ‚îî‚îÄ‚îÄ LivingEntity
          ‚îî‚îÄ‚îÄ Character
              ‚îú‚îÄ‚îÄ Player
              ‚îî‚îÄ‚îÄ Enemy
                  ‚îú‚îÄ‚îÄ MeleeEnemy
                  ‚îî‚îÄ‚îÄ RangedEnemy

‚úÖ –•–û–†–û–®–û (–ö–æ–º–ø–æ–∑–∏—Ü–∏—è):
GameObject + [LifeComponent, MoveComponent, AttackComponent, ...]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:**
- üîÑ –í—ã—Å–æ–∫–∞—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- üß© –ì–∏–±–∫–æ—Å—Ç—å –≤ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–π
- üß™ –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üì¶ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ –∏–∑–æ–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏
- üöÄ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è Unity Way

### –ö–ª—é—á–µ–≤—ã–µ –ü—Ä–∏–Ω—Ü–∏–ø—ã

#### 1. **–û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**

–ö–∞–∂–¥—ã–π `MonoBehaviour` –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≤–µ—â—å –∏ –¥–µ–ª–∞—Ç—å –µ—ë —Ö–æ—Ä–æ—à–æ.

```csharp
// ‚úÖ –•–û–†–û–®–û: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ –∑–¥–æ—Ä–æ–≤—å–µ
public class LifeComponent : MonoBehaviour, IDamageTaker
{
    public event Action OnTakeDamage;
    public event Action OnEmpty;

    [SerializeField] private int _maxPoints;
    [SerializeField] private int _hitPoints;

    public bool TakeDamage(int damage)
    {
        _hitPoints -= damage;
        OnTakeDamage?.Invoke();

        if (_hitPoints <= 0)
        {
            OnEmpty?.Invoke();
        }

        return true;
    }

    public bool IsAlive() => _hitPoints > 0;
}
```

```csharp
// ‚ùå –ü–õ–û–•–û: "God Object" –¥–µ–ª–∞–µ—Ç –≤—Å—ë
public class Character : MonoBehaviour
{
    private int health;
    private float speed;
    private bool isGrounded;

    void Update()
    {
        HandleInput();      // –í–≤–æ–¥
        Move();            // –î–≤–∏–∂–µ–Ω–∏–µ
        CheckGround();     // –§–∏–∑–∏–∫–∞
        UpdateAnimation(); // –ê–Ω–∏–º–∞—Ü–∏—è
        PlaySounds();      // –ó–≤—É–∫
        CheckDamage();     // –£—Ä–æ–Ω
        // ... 500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
    }
}
```

#### 2. **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —á–µ—Ä–µ–∑ SerializeField**

–°–≤—è–∑—ã–≤–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ Inspector, –∞ –Ω–µ —á–µ—Ä–µ–∑ `GetComponent` –≤ runtime.

```csharp
public class Character : MonoBehaviour
{
    // ‚úÖ –•–û–†–û–®–û: –Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–∏–¥–Ω—ã –≤ Inspector
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private MoveComponent _moveComponent;
    [SerializeField] private JumpComponent _jumpComponent;

    // ‚ùå –ü–õ–û–•–û: –°–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø–æ–∏—Å–∫ –≤ runtime
    private void Start()
    {
        var life = GetComponent<LifeComponent>();
        var move = GetComponent<MoveComponent>();
    }
}
```

#### 3. **Event-Driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è, –∞ –Ω–µ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤.

```csharp
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è
public class JumpComponent : MonoBehaviour
{
    public event Action OnJump;

    public void Jump()
    {
        // –õ–æ–≥–∏–∫–∞ –ø—Ä—ã–∂–∫–∞
        OnJump?.Invoke();
    }
}

// –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
public class Character : MonoBehaviour
{
    [SerializeField] private JumpComponent _jumpComponent;
    [SerializeField] private AudioComponent _audioComponent;

    private void OnEnable()
    {
        _jumpComponent.OnJump += OnJump;
    }

    private void OnDisable()
    {
        _jumpComponent.OnJump -= OnJump;
    }

    private void OnJump()
    {
        _audioComponent.Play(_jumpSound);
    }
}
```

#### 4. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π**

```csharp
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç
public interface IDamageTaker
{
    event Action OnTakeDamage;
    bool TakeDamage(int damage);
}

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
public class DamageMakerComponent : MonoBehaviour
{
    private void OnCollisionEnter2D(Collision2D collision)
    {
        // –†–∞–±–æ—Ç–∞–µ–º —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º
        if (collision.gameObject.TryGetComponent(out IDamageTaker damageTaker))
        {
            damageTaker.TakeDamage(_damage);
        }
    }
}
```

---

## –ö–æ–º–ø–æ–∑–∏—Ü–∏—è vs –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–∑–∏—Ü–∏—é?

**–í 95% —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é!**

#### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∫–æ–≥–¥–∞:

1. **–ù—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –≤ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–π**

```csharp
// –ü–µ—Ä—Å–æ–Ω–∞–∂ = –ñ–∏–∑–Ω—å + –î–≤–∏–∂–µ–Ω–∏–µ + –ü—Ä—ã–∂–æ–∫
Character: LifeComponent + MoveComponent + JumpComponent

// –í—Ä–∞–≥-–∑–º–µ—è = –ñ–∏–∑–Ω—å + –ü–æ–¥–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ + –£—Ä–æ–Ω
Snake: LifeComponent + TossComponent + DamageMakerComponent

// –í—Ä–∞–≥-–ø–∞—É–∫ = –ñ–∏–∑–Ω—å + –¢–æ–ª—á–æ–∫ + –£—Ä–æ–Ω + –í–∑–≥–ª—è–¥
Spider: LifeComponent + PushComponent + DamageMakerComponent + LookComponent
```

2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω —Ä–∞–∑–Ω—ã–º —Ç–∏–ø–∞–º –æ–±—ä–µ–∫—Ç–æ–≤**

```csharp
// LifeComponent –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –∂–∏–≤—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏
public class Character : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent; // ‚úÖ
}

public class Snake : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent; // ‚úÖ
}

public class Spider : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent; // ‚úÖ
}
```

3. **–ù—É–∂–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**

```csharp
// –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–≤—É–∫ –∫ –ø—Ä—ã–∂–∫—É
_jumpComponent.OnJump += () => _audioComponent.Play(_jumpSound);

// –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç —á–∞—Å—Ç–∏—Ü
_jumpComponent.OnJump += () => _particleSystem.Play();

// –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–º–µ—Ä–∞-shake
_jumpComponent.OnJump += () => _cameraShake.Shake();
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ?

**–¢–æ–ª—å–∫–æ –≤ 5% —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –µ—Å—Ç—å —á—ë—Ç–∫–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ!**

#### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–≥–¥–∞:

1. **Template Method Pattern ‚Äî –æ–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–º–∏ —à–∞–≥–∞–º–∏**

```csharp
// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è
public abstract class BasePatrolComponent : MonoBehaviour
{
    protected Vector3[] _points;
    private int _currentIndex;

    protected virtual void Awake()
    {
        // –®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –¥–æ—á–µ—Ä–Ω–∏–µ –∫–ª–∞—Å—Å—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–æ—á–µ–∫
        _points = InitPoints();
    }

    // –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è
    public Vector3 GetCurrentPoint() => _points[_currentIndex];
    public bool IsArrived() => Vector3.Distance(transform.position, GetCurrentPoint()) < 0.1f;
    public void NextPoint() => _currentIndex = (_currentIndex + 1) % _points.Length;

    // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –∫–∞–∂–¥—ã–π –ø–æ–¥–∫–ª–∞—Å—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ—á–∫–∏
    protected abstract Vector3[] InitPoints();
}

// –ü–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ç–æ—á–∫–∞–º –∏–∑ Transform –º–∞—Å—Å–∏–≤–∞
public class PatrolByTransformsComponent : BasePatrolComponent
{
    [SerializeField] private Transform[] _points;

    protected override Vector3[] InitPoints()
    {
        return _points.Select(p => p.position).ToArray();
    }
}

// –ü–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ç–æ—á–∫–∞–º –∏–∑ BoxCollider2D
public class PatrolByGroundComponent : BasePatrolComponent
{
    [SerializeField] private LayerMask _groundMask;
    [SerializeField] private BoxCollider2D _groundArea;

    protected override Vector3[] InitPoints()
    {
        // –í—ã—á–∏—Å–ª—è–µ—Ç —Ç–æ—á–∫–∏ –ø–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–ª–∞–π–¥–µ—Ä–∞
        var bounds = _groundArea.bounds;
        return new[] { bounds.min, bounds.max };
    }
}
```

**–ö–æ–≥–¥–∞ —ç—Ç–æ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ:**
- –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 80%+ –∫–æ–¥–∞
- –ï—Å—Ç—å —á—ë—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ "is-a"
- –¢–æ–ª—å–∫–æ 1-2 –º–µ—Ç–æ–¥–∞ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö

2. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

```csharp
// –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∏–ª—ã
public class DetectAndForceTargetByPointComponent : MonoBehaviour
{
    [SerializeField] protected Transform _forcePoint;
    [SerializeField] protected float _forceValue = 10f;

    public event Action OnForce;

    public Collider2D GetTarget()
    {
        return Physics2D.OverlapCircle(_forcePoint.position, 0.5f);
    }

    public void Force(Collider2D target, Vector3 direction)
    {
        if (target.TryGetComponent(out Rigidbody2D rb))
        {
            rb.AddForce(direction * _forceValue, ForceMode2D.Impulse);
            OnForce?.Invoke();
        }
    }
}

// –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–¥–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è
public class TossComponent : DetectAndForceTargetByPointComponent
{
    [SerializeField] private AudioClip _tossSound;
    [SerializeField] private ParticleSystem _tossVfx;

    public void Toss()
    {
        var target = GetTarget();
        if (target != null)
        {
            Force(target, Vector3.up);
            _tossVfx?.Play();
        }
    }
}

// –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç—ã —Ç–æ–ª—á–∫–∞
public class PushComponent : DetectAndForceTargetByPointComponent
{
    [SerializeField] private AudioClip _pushSound;
    [SerializeField] private ParticleSystem _pushVfx;

    public void Push()
    {
        var target = GetTarget();
        if (target != null)
        {
            Vector3 direction = (target.transform.position - transform.position).normalized;
            Force(target, direction);
            _pushVfx?.Play();
        }
    }
}
```

### –ü—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è

```
–í–û–ü–†–û–°: –ú–Ω–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è?

1. –ï—Å—Ç—å –ª–∏ –æ–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å 1-2 –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–º–∏ —à–∞–≥–∞–º–∏?
   –î–ê ‚Üí –†–∞—Å—Å–º–æ—Ç—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (Template Method)
   –ù–ï–¢ ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–ø–æ–∑–∏—Ü–∏—é

2. –ú–æ–≥—É –ª–∏ —è –æ–ø–∏—Å–∞—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–∞–∫ "X —è–≤–ª—è–µ—Ç—Å—è Y"?
   –î–ê ‚Üí –†–∞—Å—Å–º–æ—Ç—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
   –ù–ï–¢ ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–ø–æ–∑–∏—Ü–∏—é

3. –ù—É–∂–Ω–æ –ª–∏ –º–Ω–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏?
   –î–ê ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
   –ù–ï–¢ ‚Üí –†–∞—Å—Å–º–æ—Ç—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

4. –°–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è?
   ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–ø–æ–∑–∏—Ü–∏—é (–≤—Å–µ–≥–¥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ!)
```

---

## SOLID –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤ Unity

### S ‚Äî Single Responsibility Principle (–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:

```csharp
// LifeComponent ‚Äî —Ç–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å–µ–º
public class LifeComponent : MonoBehaviour
{
    private int _hitPoints;
    public bool TakeDamage(int damage) { /* ... */ }
    public bool IsAlive() { /* ... */ }
}

// AudioComponent ‚Äî —Ç–æ–ª—å–∫–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
public class AudioComponent : MonoBehaviour
{
    private AudioSource _source;
    public void Play(AudioClip clip) { /* ... */ }
}

// GroundCheckerComponent ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–µ–º–ª–∏
public class GroundCheckerComponent : MonoBehaviour
{
    public bool IsGrounded() { /* ... */ }
}

// ReloadComponent ‚Äî —Ç–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ cooldown
public class ReloadComponent : MonoBehaviour
{
    public bool IsReady() { /* ... */ }
    public void Reload() { /* ... */ }
}
```

#### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è:

```csharp
// ‚ùå –ü–õ–û–•–û: –û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –≤—Å—ë
public class JumpController : MonoBehaviour
{
    void Update()
    {
        if (Input.GetKeyDown(KeyCode.Space))
        {
            // –§–∏–∑–∏–∫–∞ –ø—Ä—ã–∂–∫–∞
            GetComponent<Rigidbody2D>().AddForce(Vector2.up * 10);

            // –ê–Ω–∏–º–∞—Ü–∏—è
            transform.DOPunchScale(Vector3.one * 0.2f, 0.3f);

            // –ó–≤—É–∫
            GetComponent<AudioSource>().Play();

            // Cooldown
            StartCoroutine(CooldownCoroutine());
        }
    }
}

// ‚úÖ –•–û–†–û–®–û: –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
// 1. –§–∏–∑–∏–∫–∞ –ø—Ä—ã–∂–∫–∞
public class JumpComponent : MonoBehaviour
{
    public event Action OnJump;

    public void Jump()
    {
        _rigidbody.AddForce(Vector2.up * _jumpForce, ForceMode2D.Impulse);
        OnJump?.Invoke();
    }
}

// 2. –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä—ã–∂–∫–∞
public class JumpAnimationComponent : MonoBehaviour
{
    public void AnimateJump()
    {
        transform.DOPunchScale(Vector3.one * 0.2f, 0.3f);
    }
}

// 3. Cooldown
public class ReloadComponent : MonoBehaviour
{
    public bool IsReady() => _currentTime >= _reloadTime;
    public void Reload() => _currentTime = 0;
}

// 4. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
public class Character : MonoBehaviour
{
    [SerializeField] private JumpComponent _jumpComponent;
    [SerializeField] private JumpAnimationComponent _jumpAnimationComponent;
    [SerializeField] private AudioComponent _audioComponent;
    [SerializeField] private ReloadComponent _reloadComponent;

    private void OnEnable()
    {
        _jumpComponent.OnJump += OnJump;
    }

    private void OnJump()
    {
        _jumpAnimationComponent.AnimateJump();
        _audioComponent.Play(_jumpSound);
        _reloadComponent.Reload();
    }
}
```

### O ‚Äî Open/Closed Principle (–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–æ –∑–∞–∫—Ä—ã—Ç—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä: –°–∏—Å—Ç–µ–º–∞ —É—Å–ª–æ–≤–∏–π

```csharp
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ–≥–æ –∫–æ–¥–∞
public class MoveComponent : MonoBehaviour
{
    private readonly AndCondition _andCondition = new();

    // –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª–æ–≤–∏—è –∏–∑–≤–Ω–µ
    public void AddCondition(Func<bool> condition)
        => _andCondition.AddCondition(condition);

    private void Update()
    {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —É—Å–ª–æ–≤–∏—è
        if (!_andCondition.IsTrue())
            return;

        // –î–≤–∏–∂–µ–Ω–∏–µ
    }
}

// –†–∞—Å—à–∏—Ä—è–µ–º –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ MoveComponent
public class Character : MonoBehaviour
{
    private void Awake()
    {
        // –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª–æ–≤–∏–µ: –¥–≤–∏–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∂–∏–≤
        _moveComponent.AddCondition(_lifeComponent.IsAlive);

        // –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª–æ–≤–∏–µ: –¥–≤–∏–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –æ–≥–ª—É—à—ë–Ω
        _moveComponent.AddCondition(_stunComponent.IsNotStunned);

        // –ú–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ —É—Å–ª–æ–≤–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è MoveComponent
    }
}
```

#### ‚úÖ –ü—Ä–∏–º–µ—Ä: –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π

```csharp
public class LifeComponent : MonoBehaviour
{
    public event Action OnTakeDamage;
    public event Action OnEmpty;

    public bool TakeDamage(int damage)
    {
        _hitPoints -= damage;
        OnTakeDamage?.Invoke(); // –û—Ç–∫—Ä—ã—Ç–æ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

        if (_hitPoints <= 0)
        {
            OnEmpty?.Invoke(); // –û—Ç–∫—Ä—ã—Ç–æ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
        }

        return true;
    }
}

// –†–∞—Å—à–∏—Ä—è–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è LifeComponent
public class Character : MonoBehaviour
{
    private void OnEnable()
    {
        // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —É—Ä–æ–Ω–∞
        _lifeComponent.OnTakeDamage += () => _damageAnimationComponent.AnimateDamage();

        // –î–æ–±–∞–≤–ª—è–µ–º –∑–≤—É–∫ —É—Ä–æ–Ω–∞
        _lifeComponent.OnTakeDamage += () => _audioComponent.Play(_damageSound);

        // –î–æ–±–∞–≤–ª—è–µ–º –∫–∞–º–µ—Ä–∞-—à–µ–π–∫
        _lifeComponent.OnTakeDamage += () => _cameraShake.Shake();

        // –î–æ–±–∞–≤–ª—è–µ–º UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        _lifeComponent.OnTakeDamage += () => _healthBar.UpdateHealth();
    }
}
```

### L ‚Äî Liskov Substitution Principle (–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –û–±—ä–µ–∫—Ç—ã –ø–æ–¥—Ç–∏–ø–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω—è–µ–º—ã –æ–±—ä–µ–∫—Ç–∞–º–∏ –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ü–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

```csharp
// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π BasePatrolComponent
public class PatrolController : MonoBehaviour
{
    [SerializeField] private GameObject _patrolObject;
    [SerializeField] private BasePatrolComponent _patrolComponent; // –ë–∞–∑–æ–≤—ã–π —Ç–∏–ø

    private void Update()
    {
        if (_patrolComponent.IsArrived())
        {
            _patrolComponent.NextPoint();
        }

        // –†–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è PatrolByTransformsComponent
        // –∏ PatrolByGroundComponent
    }
}
```

### I ‚Äî Interface Segregation Principle (–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä: –†–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```csharp
// ‚ùå –ü–õ–û–•–û: –¢–æ–ª—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
public interface IGameEntity
{
    void TakeDamage(int damage);
    void Heal(int amount);
    void Move(Vector3 direction);
    void Attack();
    void UseItem(Item item);
    void LevelUp();
}

// ‚úÖ –•–û–†–û–®–û: –ú–∞–ª–µ–Ω—å–∫–∏–µ, —Ü–µ–ª–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
public interface IDamageTaker
{
    event Action OnTakeDamage;
    bool TakeDamage(int damage);
}

public interface IHealable
{
    void Heal(int amount);
}

public interface IMovable
{
    void Move(Vector3 direction);
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ
public class LifeComponent : MonoBehaviour, IDamageTaker, IHealable
{
    public event Action OnTakeDamage;

    public bool TakeDamage(int damage) { /* ... */ }
    public void Heal(int amount) { /* ... */ }
    // –ù–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏–ª–∏ –∞—Ç–∞–∫—É
}
```

### D ‚Äî Dependency Inversion Principle (–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∞ –Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```csharp
// DamageMakerComponent –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ IDamageTaker
public class DamageMakerComponent : MonoBehaviour
{
    [SerializeField] private int _damage = 1;

    private void OnCollisionEnter2D(Collision2D collision)
    {
        // –†–∞–±–æ—Ç–∞–µ–º —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º)
        if (collision.gameObject.TryGetComponent(out IDamageTaker damageTaker))
        {
            damageTaker.TakeDamage(_damage);
        }
    }
}

// –õ—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π IDamageTaker, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
public class LifeComponent : MonoBehaviour, IDamageTaker { }
public class ShieldComponent : MonoBehaviour, IDamageTaker { }
public class ArmorComponent : MonoBehaviour, IDamageTaker { }
```

#### ‚úÖ –ü—Ä–∏–º–µ—Ä: Proxy Pattern –¥–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```csharp
// –î–æ—á–µ—Ä–Ω–∏–π –æ–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥–æ–ª–æ–≤–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞) –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç —É—Ä–æ–Ω —Ä–æ–¥–∏—Ç–µ–ª—é
public class TakeDamageProxy : MonoBehaviour, IDamageTaker
{
    [SerializeField] private LifeComponent _lifeComponent;

    public event Action OnTakeDamage
    {
        add => _lifeComponent.OnTakeDamage += value;
        remove => _lifeComponent.OnTakeDamage -= value;
    }

    public bool TakeDamage(int damage)
    {
        return _lifeComponent.TakeDamage(damage);
    }
}
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü–∞—Ç—Ç–µ—Ä–Ω—ã

### 1. Component Pattern (–ü–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)

**–°—É—Ç—å Unity:** GameObject —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç. –í—Å—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

```csharp
// GameObject ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
public class Character : MonoBehaviour
{
    // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private MoveComponent _moveComponent;
    [SerializeField] private JumpComponent _jumpComponent;
    [SerializeField] private AttackComponent _attackComponent;
}
```

### 2. Event-Driven Architecture (–°–æ–±—ã—Ç–∏–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –°–ª–∞–±–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ, –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∞–∫—Ü–∏–∏.

```csharp
// Publisher (–ò–∑–¥–∞—Ç–µ–ª—å)
public class LifeComponent : MonoBehaviour
{
    public event Action OnTakeDamage;
    public event Action OnEmpty;
    public event Action<int> OnHealthChanged;

    public bool TakeDamage(int damage)
    {
        _hitPoints -= damage;
        OnTakeDamage?.Invoke();
        OnHealthChanged?.Invoke(_hitPoints);

        if (_hitPoints <= 0)
        {
            OnEmpty?.Invoke();
        }

        return true;
    }
}

// Subscribers (–ü–æ–¥–ø–∏—Å—á–∏–∫–∏)
public class Character : MonoBehaviour
{
    private void OnEnable()
    {
        // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –Ω–∞ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ
        _lifeComponent.OnTakeDamage += OnTakeDamage;
        _lifeComponent.OnEmpty += OnHealthEmpty;
        _lifeComponent.OnHealthChanged += OnHealthChanged;
    }

    private void OnDisable()
    {
        // –í–ê–ñ–ù–û: –í—Å–µ–≥–¥–∞ –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ OnDisable!
        _lifeComponent.OnTakeDamage -= OnTakeDamage;
        _lifeComponent.OnEmpty -= OnHealthEmpty;
        _lifeComponent.OnHealthChanged -= OnHealthChanged;
    }

    private void OnTakeDamage()
    {
        _damageAnimationComponent.AnimateDamage();
        _audioComponent.Play(_damageSound);
    }

    private void OnHealthEmpty()
    {
        gameObject.SetActive(false);
    }

    private void OnHealthChanged(int newHealth)
    {
        _healthBar.SetHealth(newHealth);
    }
}
```

### 3. Condition System Pattern (–ü–∞—Ç—Ç–µ—Ä–Ω —Å–∏—Å—Ç–µ–º—ã —É—Å–ª–æ–≤–∏–π)

**–ó–∞–¥–∞—á–∞:** –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–≤–æ—ë –¥–µ–π—Å—Ç–≤–∏–µ.

```csharp
// –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
public sealed class AndCondition
{
    private readonly List<Func<bool>> _conditions = new();

    public void AddCondition(Func<bool> condition)
        => _conditions.Add(condition);

    public void RemoveCondition(Func<bool> condition)
        => _conditions.Remove(condition);

    public bool IsTrue()
    {
        for (int i = _conditions.Count - 1; i >= 0; i--)
        {
            if (_conditions[i].Invoke() == false)
                return false;
        }
        return true;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
public class MoveComponent : MonoBehaviour
{
    private readonly AndCondition _andCondition = new();

    public void AddCondition(Func<bool> condition)
        => _andCondition.AddCondition(condition);

    private void Move()
    {
        if (!_andCondition.IsTrue())
            return;

        // –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
    }
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ª–æ–≤–∏–π –≤ Character
public class Character : MonoBehaviour
{
    private void Awake()
    {
        // –ü–µ—Ä—Å–æ–Ω–∞–∂ –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
        _moveComponent.AddCondition(_lifeComponent.IsAlive);           // –ñ–∏–≤
        _moveComponent.AddCondition(() => !_isStunned);                // –ù–µ –æ–≥–ª—É—à—ë–Ω
        _moveComponent.AddCondition(() => !_isInCutscene);             // –ù–µ –≤ –∫–∞—Ç—Å—Ü–µ–Ω–µ

        // –ü–µ—Ä—Å–æ–Ω–∞–∂ –º–æ–∂–µ—Ç –ø—Ä—ã–≥–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
        _jumpComponent.AddCondition(_groundCheckerComponent.IsGrounded); // –ù–∞ –∑–µ–º–ª–µ
        _jumpComponent.AddCondition(_lifeComponent.IsAlive);             // –ñ–∏–≤
        _jumpComponent.AddCondition(_jumpReloadComponent.IsReady);       // Cooldown –≥–æ—Ç–æ–≤
    }
}
```

### 4. Controller Pattern (–ü–∞—Ç—Ç–µ—Ä–Ω –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞)

**–ó–∞–¥–∞—á–∞:** –û—Ç–¥–µ–ª–∏—Ç—å –≤–≤–æ–¥ (input) –æ—Ç –ª–æ–≥–∏–∫–∏ –∏–≥—Ä—ã.

```csharp
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫—É, –Ω–æ –Ω–µ –∑–Ω–∞—é—Ç –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ –∫–æ–º–∞–Ω–¥
public class MoveComponent : MonoBehaviour
{
    public void SetDirection(Vector3 direction) { /* ... */ }
}

public class JumpComponent : MonoBehaviour
{
    public void Jump() { /* ... */ }
}

// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤–≤–æ–¥ –≤ –∫–æ–º–∞–Ω–¥—ã
public class MoveController : MonoBehaviour
{
    [SerializeField] private GameObject _character;

    private MoveComponent _moveComponent;
    private LookComponent _lookComponent;
    private JumpComponent _jumpComponent;

    private void Awake()
    {
        _moveComponent = _character.GetComponent<MoveComponent>();
        _lookComponent = _character.GetComponent<LookComponent>();
        _jumpComponent = _character.GetComponent<JumpComponent>();
    }

    private void Update()
    {
        // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–π –≤–≤–æ–¥
        if (Input.GetKey(KeyCode.A))
        {
            _moveComponent.SetDirection(Vector3.left);
            _lookComponent.SetDirection(Vector3.left);
        }

        if (Input.GetKey(KeyCode.D))
        {
            _moveComponent.SetDirection(Vector3.right);
            _lookComponent.SetDirection(Vector3.right);
        }

        if (Input.GetKeyDown(KeyCode.Space))
        {
            _jumpComponent.Jump();
        }
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ AI –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ç–µ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
- –õ–µ–≥–∫–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è (replay system)

```csharp
// AI –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
public class AIController : MonoBehaviour
{
    [SerializeField] private GameObject _character;
    private MoveComponent _moveComponent;

    private void Update()
    {
        // AI –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è
        Vector3 direction = CalculateAIDirection();
        _moveComponent.SetDirection(direction);
    }
}
```

### 5. Component Orchestration Pattern (–ü–∞—Ç—Ç–µ—Ä–Ω –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)

**–ó–∞–¥–∞—á–∞:** –ò–≥—Ä–æ–≤–æ–π –æ–±—ä–µ–∫—Ç –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–≤–æ–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

```csharp
public class Character : MonoBehaviour
{
    // –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    [Header("Core Components")]
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private MoveComponent _moveComponent;
    [SerializeField] private JumpComponent _jumpComponent;

    [Header("Visual Components")]
    [SerializeField] private DamageAnimationComponent _damageAnimationComponent;
    [SerializeField] private JumpAnimationComponent _jumpAnimationComponent;

    [Header("Audio Components")]
    [SerializeField] private AudioComponent _audioComponent;
    [SerializeField] private AudioClip _damageSound;
    [SerializeField] private AudioClip _jumpSound;

    [Header("Other Components")]
    [SerializeField] private GroundCheckerComponent _groundCheckerComponent;
    [SerializeField] private ReloadComponent _jumpReloadComponent;

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ª–æ–≤–∏–π
    private void Awake()
    {
        _moveComponent.AddCondition(_lifeComponent.IsAlive);
        _jumpComponent.AddCondition(_groundCheckerComponent.IsGrounded);
        _jumpComponent.AddCondition(_lifeComponent.IsAlive);
        _jumpComponent.AddCondition(_jumpReloadComponent.IsReady);
    }

    // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
    private void OnEnable()
    {
        _lifeComponent.OnEmpty += OnHealthEmpty;
        _lifeComponent.OnTakeDamage += OnTakeDamage;
        _jumpComponent.OnJump += OnJump;
    }

    // –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Å–æ–±—ã—Ç–∏–π
    private void OnDisable()
    {
        _lifeComponent.OnEmpty -= OnHealthEmpty;
        _jumpComponent.OnJump -= OnJump;
        _lifeComponent.OnTakeDamage -= OnTakeDamage;
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—Ç —Ä–µ–∞–∫—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    private void OnTakeDamage()
    {
        _damageAnimationComponent.AnimateDamage();
        _audioComponent.Play(_damageSound);
    }

    private void OnJump()
    {
        _jumpAnimationComponent.AnimateJump();
        _reloadComponent.Reload();
        _audioComponent.Play(_jumpSound);
    }

    private void OnHealthEmpty()
    {
        gameObject.SetActive(false);
    }
}
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏:**
1. –û–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. –í `Awake()` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–≤—è–∑–∏ –∏ —É—Å–ª–æ–≤–∏—è
3. –í `OnEnable()`/`OnDisable()` —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
4. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
5. –ú–∏–Ω–∏–º—É–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–¥–∞, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ:

1. **–ö–∞–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –µ—Å—Ç—å –≤ –∏–≥—Ä–µ?**
   - –ü–µ—Ä—Å–æ–Ω–∞–∂ (Character)
   - –í—Ä–∞–≥–∏ (Snake, Spider)
   - –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è (Trap, Lava)
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (Trampoline)

2. **–ö–∞–∫–∏–µ –æ–±—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–Ω–∏ –∏–º–µ—é—Ç?**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ ‚Üí `LifeComponent`
   - –î–≤–∏–∂–µ–Ω–∏–µ ‚Üí `MoveComponent`
   - –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ ‚Üí `DamageMakerComponent`
   - –ó–≤—É–∫ ‚Üí `AudioComponent`

3. **–ö–∞–∫–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏?**
   - –ü–µ—Ä—Å–æ–Ω–∞–∂: –ø—Ä—ã–∂–æ–∫, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Üí `JumpComponent`, `MoveController`
   - –ó–º–µ—è: –ø–æ–¥–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ ‚Üí `TossComponent`
   - –ü–∞—É–∫: —Ç–æ–ª—á–æ–∫ ‚Üí `PushComponent`
   - –ë–∞—Ç—É—Ç: –ø–æ–¥–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –±–µ–∑ –∂–∏–∑–Ω–∏ ‚Üí `TossComponent`

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### –ß–µ–∫–ª–∏—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```
‚ñ° –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≤–µ—â—å?
‚ñ° –ò–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "Component"?
‚ñ° –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ [SerializeField]?
‚ñ° –ï—Å—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π?
‚ñ° –ù–µ—Ç GetComponent –≤ Update/FixedUpdate?
‚ñ° –õ–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
```

#### –®–∞–±–ª–æ–Ω –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```csharp
using System;
using UnityEngine;

namespace YourGame
{
    /// <summary>
    /// –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
    /// </summary>
    public class ExampleComponent : MonoBehaviour
    {
        // === –°–û–ë–´–¢–ò–Ø ===
        public event Action OnSomethingHappened;

        // === –ù–ê–°–¢–†–û–ô–ö–ò ===
        [Header("Settings")]
        [SerializeField] private float _speed = 5f;
        [SerializeField] private LayerMask _targetLayer;

        // === –ó–ê–í–ò–°–ò–ú–û–°–¢–ò ===
        [Header("Dependencies")]
        [SerializeField] private Rigidbody2D _rigidbody;

        // === –ü–†–ò–í–ê–¢–ù–´–ï –ü–û–õ–Ø ===
        private bool _isActive;

        // === –ü–£–ë–õ–ò–ß–ù–´–ï –ú–ï–¢–û–î–´ ===
        public void DoSomething()
        {
            // –õ–æ–≥–∏–∫–∞
            OnSomethingHappened?.Invoke();
        }

        // === –£–°–õ–û–í–ò–Ø ===
        public bool CanDoSomething()
        {
            return _isActive;
        }

        // === UNITY CALLBACKS ===
        private void Awake()
        {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        }

        private void Update()
        {
            // –õ–æ–≥–∏–∫–∞ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
        }
    }
}
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞

```csharp
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
public interface IDamageTaker
{
    event Action OnTakeDamage;
    bool TakeDamage(int damage);
}

public interface IHealable
{
    void Heal(int amount);
}

public interface IInteractable
{
    void Interact(GameObject interactor);
}
```

### –®–∞–≥ 4: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

```csharp
// –ò–≥—Ä–æ–≤–æ–π –æ–±—ä–µ–∫—Ç = –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
public class Enemy : MonoBehaviour
{
    // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—Ä–∞–≥–∞
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private MoveComponent _moveComponent;
    [SerializeField] private DamageMakerComponent _damageMakerComponent;
    [SerializeField] private AudioComponent _audioComponent;

    private void Awake()
    {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ª–æ–≤–∏–π
        _moveComponent.AddCondition(_lifeComponent.IsAlive);
    }

    private void OnEnable()
    {
        // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
        _lifeComponent.OnEmpty += OnDeath;
    }

    private void OnDisable()
    {
        // –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Å–æ–±—ã—Ç–∏–π
        _lifeComponent.OnEmpty -= OnDeath;
    }

    private void OnDeath()
    {
        _audioComponent.Play(_deathSound);
        Destroy(gameObject);
    }
}
```

---

## –î—Ä–æ–±–ª–µ–Ω–∏–µ –§–∏—á –Ω–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è: Feature ‚Üí Components

#### –ü—Ä–∏–º–µ—Ä 1: –§–∏—á–∞ "–°–∏—Å—Ç–µ–º–∞ –ø—Ä—ã–∂–∫–æ–≤"

**–ê–Ω–∞–ª–∏–∑:**
- –§–∏–∑–∏–∫–∞ –ø—Ä—ã–∂–∫–∞ (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∏–ª—ã)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–µ–º–ª–∏
- Cooldown –º–µ–∂–¥—É –ø—Ä—ã–∂–∫–∞–º–∏
- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä—ã–∂–∫–∞
- –ó–≤—É–∫ –ø—Ä—ã–∂–∫–∞

**–†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

```csharp
// 1. –§–∏–∑–∏–∫–∞ –ø—Ä—ã–∂–∫–∞
public class JumpComponent : MonoBehaviour
{
    public event Action OnJump;

    [SerializeField] private Rigidbody2D _rigidbody;
    [SerializeField] private float _jumpForce = 10f;

    private readonly AndCondition _andCondition = new();

    public void AddCondition(Func<bool> condition)
        => _andCondition.AddCondition(condition);

    public void Jump()
    {
        if (!_andCondition.IsTrue())
            return;

        _rigidbody.velocity = new Vector2(_rigidbody.velocity.x, 0);
        _rigidbody.AddForce(Vector2.up * _jumpForce, ForceMode2D.Impulse);
        OnJump?.Invoke();
    }
}

// 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–µ–º–ª–∏
public class GroundCheckerComponent : MonoBehaviour
{
    [SerializeField] private Transform _groundCheckPoint;
    [SerializeField] private float _groundCheckRadius = 0.2f;
    [SerializeField] private LayerMask _groundLayer;

    public bool IsGrounded()
    {
        return Physics2D.OverlapCircle(
            _groundCheckPoint.position,
            _groundCheckRadius,
            _groundLayer
        );
    }
}

// 3. Cooldown
public class ReloadComponent : MonoBehaviour
{
    [SerializeField] private float _reloadTime = 1f;
    private float _currentTime;

    private void Update()
    {
        if (_currentTime < _reloadTime)
        {
            _currentTime += Time.deltaTime;
        }
    }

    public bool IsReady() => _currentTime >= _reloadTime;

    public void Reload()
    {
        _currentTime = 0;
    }
}

// 4. –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä—ã–∂–∫–∞
public class JumpAnimationComponent : MonoBehaviour
{
    [SerializeField] private float _punchScale = 0.15f;
    [SerializeField] private float _punchDuration = 0.3f;

    public void AnimateJump()
    {
        var sequence = DOTween.Sequence();
        sequence.Append(transform.DOPunchScale(new Vector3(0, _punchScale, 0), _punchDuration));
        sequence.Append(transform.DOScaleY(1, 0.1f));
    }
}

// 5. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤ Character
public class Character : MonoBehaviour
{
    [SerializeField] private JumpComponent _jumpComponent;
    [SerializeField] private JumpAnimationComponent _jumpAnimationComponent;
    [SerializeField] private GroundCheckerComponent _groundCheckerComponent;
    [SerializeField] private ReloadComponent _jumpReloadComponent;
    [SerializeField] private AudioComponent _audioComponent;
    [SerializeField] private AudioClip _jumpSound;

    private void Awake()
    {
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ª–æ–≤–∏–π: –º–æ–∂–Ω–æ –ø—Ä—ã–≥–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏...
        _jumpComponent.AddCondition(_groundCheckerComponent.IsGrounded);
        _jumpComponent.AddCondition(_jumpReloadComponent.IsReady);
    }

    private void OnEnable()
    {
        _jumpComponent.OnJump += OnJump;
    }

    private void OnDisable()
    {
        _jumpComponent.OnJump -= OnJump;
    }

    private void OnJump()
    {
        _jumpAnimationComponent.AnimateJump();
        _jumpReloadComponent.Reload();
        _audioComponent.Play(_jumpSound);
    }
}
```

#### –ü—Ä–∏–º–µ—Ä 2: –§–∏—á–∞ "–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–Ω–∞"

**–ê–Ω–∞–ª–∏–∑:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è
- –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
- –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
- –ó–≤—É–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
- –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–Ω–∞ (–¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤)

**–†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

```csharp
// 1. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
public interface IDamageTaker
{
    event Action OnTakeDamage;
    bool TakeDamage(int damage);
}

// 2. –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è –∏ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
public class LifeComponent : MonoBehaviour, IDamageTaker
{
    public event Action OnTakeDamage;
    public event Action OnEmpty;

    [SerializeField] private int _maxPoints = 3;
    [SerializeField] private int _hitPoints = 3;

    public bool TakeDamage(int damage)
    {
        if (_hitPoints <= 0)
            return false;

        _hitPoints -= damage;
        OnTakeDamage?.Invoke();

        if (_hitPoints <= 0)
        {
            OnEmpty?.Invoke();
        }

        return true;
    }

    public bool IsAlive() => _hitPoints > 0;
}

// 3. –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
public class DamageMakerComponent : MonoBehaviour
{
    public event Action OnMakeDamage;

    [SerializeField] private int _damage = 1;
    [SerializeField] private LayerMask _targetLayer;

    private void OnCollisionEnter2D(Collision2D collision)
    {
        if ((_targetLayer & (1 << collision.gameObject.layer)) == 0)
            return;

        if (collision.gameObject.TryGetComponent(out IDamageTaker damageable))
        {
            if (damageable.TakeDamage(_damage))
            {
                OnMakeDamage?.Invoke();
            }
        }
    }
}

// 4. –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —É—Ä–æ–Ω–∞
public class DamageAnimationComponent : MonoBehaviour
{
    [SerializeField] private Color _damageColor = Color.red;
    [SerializeField] private float _duration = 0.2f;
    [SerializeField] private SpriteRenderer _spriteRenderer;

    public void AnimateDamage()
    {
        var sequence = DOTween.Sequence();
        sequence.Append(_spriteRenderer.DOColor(_damageColor, _duration / 2));
        sequence.Append(_spriteRenderer.DOColor(Color.white, _duration / 2));
    }
}

// 5. Proxy –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
public class TakeDamageProxy : MonoBehaviour, IDamageTaker
{
    [SerializeField] private LifeComponent _lifeComponent;

    public event Action OnTakeDamage
    {
        add => _lifeComponent.OnTakeDamage += value;
        remove => _lifeComponent.OnTakeDamage -= value;
    }

    public bool TakeDamage(int damage)
    {
        return _lifeComponent.TakeDamage(damage);
    }
}

// 6. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
public class Character : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private DamageAnimationComponent _damageAnimationComponent;
    [SerializeField] private AudioComponent _audioComponent;
    [SerializeField] private AudioClip _damageSound;

    private void OnEnable()
    {
        _lifeComponent.OnTakeDamage += OnTakeDamage;
        _lifeComponent.OnEmpty += OnHealthEmpty;
    }

    private void OnDisable()
    {
        _lifeComponent.OnTakeDamage -= OnTakeDamage;
        _lifeComponent.OnEmpty -= OnHealthEmpty;
    }

    private void OnTakeDamage()
    {
        _damageAnimationComponent.AnimateDamage();
        _audioComponent.Play(_damageSound);
    }

    private void OnHealthEmpty()
    {
        gameObject.SetActive(false);
    }
}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥—Ä–æ–±–ª–µ–Ω–∏—è —Ñ–∏—á–∏:

```
1. –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø
   –û–ø–∏—à–∏ —Ñ–∏—á—É –æ–¥–Ω–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º
   –ü—Ä–∏–º–µ—Ä: "–ü–µ—Ä—Å–æ–Ω–∞–∂ –º–æ–∂–µ—Ç –ø—Ä—ã–≥–∞—Ç—å"

2. –î–ï–ö–û–ú–ü–û–ó–ò–¶–ò–Ø
   –ö–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –≤–∫–ª—é—á–∞–µ—Ç —Ñ–∏—á–∞?
   - –§–∏–∑–∏–∫–∞ (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∏–ª—ã)
   - –£—Å–ª–æ–≤–∏—è (–Ω–∞ –∑–µ–º–ª–µ?)
   - Cooldown (–º–æ–∂–Ω–æ –ª–∏ —Å–Ω–æ–≤–∞ –ø—Ä—ã–≥–Ω—É—Ç—å?)
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–∞–Ω–∏–º–∞—Ü–∏—è)
   - –ó–≤—É–∫
   - –í–≤–æ–¥ (–æ—Ç–∫—É–¥–∞ –∫–æ–º–∞–Ω–¥–∞?)

3. –ì–†–£–ü–ü–ò–†–û–í–ö–ê
   –ö–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã?
   - –§–∏–∑–∏–∫–∞ + –£—Å–ª–æ–≤–∏—è ‚Üí JumpComponent
   - Cooldown ‚Üí ReloadComponent (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π!)
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí JumpAnimationComponent
   - –ó–≤—É–∫ ‚Üí AudioComponent (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π!)
   - –í–≤–æ–¥ ‚Üí MoveController (–æ—Ç–¥–µ–ª—å–Ω–æ!)

4. –ò–ù–¢–ï–†–§–ï–ô–°–´
   –ù—É–∂–Ω—ã –ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞?
   - –ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ ‚Üí –î–ê
   - –ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–Ω–∏–∫–∞–ª–µ–Ω ‚Üí –ù–ï–¢

5. –°–û–ë–´–¢–ò–Ø
   –ö–∞–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —É–≤–µ–¥–æ–º–ª—è—Ç—å –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã?
   - –£—Å–ø–µ—à–Ω—ã–π –ø—Ä—ã–∂–æ–∫ ‚Üí OnJump
   - –ü—Ä–∏–∑–µ–º–ª–µ–Ω–∏–µ ‚Üí OnLand
   - –∏ —Ç.–¥.

6. –í–ê–õ–ò–î–ê–¶–ò–Ø
   ‚ñ° –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å?
   ‚ñ° –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞?
   ‚ñ° –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
   ‚ñ° –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ?
```

---

## Best Practices

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Assets/
‚îî‚îÄ‚îÄ Game/
    ‚îî‚îÄ‚îÄ Scripts/
        ‚îú‚îÄ‚îÄ Common/              # –£—Ç–∏–ª–∏—Ç—ã, –æ–±—â–∏–µ –∫–ª–∞—Å—Å—ã
        ‚îÇ   ‚îú‚îÄ‚îÄ AndCondition.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ Extensions.cs
        ‚îú‚îÄ‚îÄ Components/          # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        ‚îÇ   ‚îú‚îÄ‚îÄ Movement/
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MoveComponent.cs
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LookComponent.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ Combat/
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LifeComponent.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IDamageTaker.cs
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DamageMakerComponent.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ Animation/
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DamageAnimationComponent.cs
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ JumpAnimationComponent.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ Audio/
        ‚îÇ       ‚îî‚îÄ‚îÄ AudioComponent.cs
        ‚îú‚îÄ‚îÄ Controllers/         # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤–≤–æ–¥–∞
        ‚îÇ   ‚îú‚îÄ‚îÄ PlayerController.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ AIController.cs
        ‚îî‚îÄ‚îÄ Objects/            # –ò–≥—Ä–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã)
            ‚îú‚îÄ‚îÄ Character.cs
            ‚îú‚îÄ‚îÄ Snake.cs
            ‚îî‚îÄ‚îÄ Spider.cs
```

### 2. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

```csharp
// ‚úÖ –•–û–†–û–®–û
public class LifeComponent : MonoBehaviour { }
public class MoveComponent : MonoBehaviour { }
public class JumpAnimationComponent : MonoBehaviour { }

// ‚ùå –ü–õ–û–•–û
public class Life : MonoBehaviour { }       // –ù–µ–ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
public class Mover : MonoBehaviour { }      // –ù–µ–ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
public class JumpAnim : MonoBehaviour { }   // –°–æ–∫—Ä–∞—â–µ–Ω–∏—è
```

**–ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ `Component`
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ `Controller`
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `I`
- –°–æ–±—ã—Ç–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `On`
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `_`

### 3. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

```csharp
public class ExampleComponent : MonoBehaviour
{
    // 1. –°–û–ë–´–¢–ò–Ø
    public event Action OnSomething;

    // 2. –ü–£–ë–õ–ò–ß–ù–´–ï –ö–û–ù–°–¢–ê–ù–¢–´
    public const int MAX_VALUE = 100;

    // 3. –°–ï–†–ò–ê–õ–ò–ó–£–ï–ú–´–ï –ü–û–õ–Ø (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
    [Header("Settings")]
    [SerializeField] private float _speed = 5f;

    // 4. –°–ï–†–ò–ê–õ–ò–ó–£–ï–ú–´–ï –ü–û–õ–Ø (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
    [Header("Dependencies")]
    [SerializeField] private Rigidbody2D _rigidbody;

    // 5. –ü–†–ò–í–ê–¢–ù–´–ï –ü–û–õ–Ø
    private bool _isActive;
    private readonly AndCondition _condition = new();

    // 6. –ü–£–ë–õ–ò–ß–ù–´–ï –°–í–û–ô–°–¢–í–ê
    public bool IsActive => _isActive;

    // 7. UNITY CALLBACKS (–≤ –ø–æ—Ä—è–¥–∫–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞)
    private void Awake() { }
    private void OnEnable() { }
    private void Start() { }
    private void Update() { }
    private void FixedUpdate() { }
    private void OnDisable() { }
    private void OnDestroy() { }

    // 8. –ü–£–ë–õ–ò–ß–ù–´–ï –ú–ï–¢–û–î–´
    public void DoSomething() { }

    // 9. –ü–†–ò–í–ê–¢–ù–´–ï –ú–ï–¢–û–î–´
    private void InternalMethod() { }
}
```

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è

```csharp
public class Character : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private JumpComponent _jumpComponent;

    // ‚úÖ –•–û–†–û–®–û: –ü–æ–¥–ø–∏—Å–∫–∞ –≤ OnEnable, –æ—Ç–ø–∏—Å–∫–∞ –≤ OnDisable
    private void OnEnable()
    {
        _lifeComponent.OnTakeDamage += OnTakeDamage;
        _lifeComponent.OnEmpty += OnHealthEmpty;
        _jumpComponent.OnJump += OnJump;
    }

    private void OnDisable()
    {
        _lifeComponent.OnTakeDamage -= OnTakeDamage;
        _lifeComponent.OnEmpty -= OnHealthEmpty;
        _jumpComponent.OnJump -= OnJump;
    }

    // ‚ùå –ü–õ–û–•–û: –ü–æ–¥–ø–∏—Å–∫–∞ –≤ Start, –Ω–µ—Ç –æ—Ç–ø–∏—Å–∫–∏
    private void Start()
    {
        _lifeComponent.OnTakeDamage += OnTakeDamage;
        // –£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏/–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞!
    }
}
```

**–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–æ–±—ã—Ç–∏—è–º–∏:**
- –ü–æ–¥–ø–∏—Å–∫–∞ ‚Üí `OnEnable()`
- –û—Ç–ø–∏—Å–∫–∞ ‚Üí `OnDisable()`
- –í—Å–µ–≥–¥–∞ –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è!
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `?.Invoke()` –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Å–æ–±—ã—Ç–∏–π

### 5. –ò–∑–±–µ–≥–∞–π—Ç–µ GetComponent –≤ Update/FixedUpdate

```csharp
// ‚ùå –ü–õ–û–•–û: GetComponent –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
private void Update()
{
    GetComponent<Rigidbody2D>().velocity = Vector2.right;
}

// ‚úÖ –•–û–†–û–®–û: –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –≤ Awake
[SerializeField] private Rigidbody2D _rigidbody;

private void Update()
{
    _rigidbody.velocity = Vector2.right;
}

// ‚úÖ –ï–©–Å –õ–£–ß–®–ï: –°–≤—è–∑–∞—Ç—å —á–µ—Ä–µ–∑ Inspector
[SerializeField] private Rigidbody2D _rigidbody;
```

### 6. –£—Å–ª–æ–≤–∏—è –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```csharp
// ‚úÖ –•–û–†–û–®–û: –†–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Å–ª–æ–≤–∏–π
public class MoveComponent : MonoBehaviour
{
    private readonly AndCondition _andCondition = new();

    public void AddCondition(Func<bool> condition)
        => _andCondition.AddCondition(condition);

    private void Move()
    {
        if (!_andCondition.IsTrue())
            return;

        // –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
    }
}

// ‚ùå –ü–õ–û–•–û: –ñ—ë—Å—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
public class MoveComponent : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private StunComponent _stunComponent;

    private void Move()
    {
        if (!_lifeComponent.IsAlive() || _stunComponent.IsStunned())
            return;

        // –õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
    }
}
```

### 7. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SerializeField –≤–º–µ—Å—Ç–æ public

```csharp
// ‚úÖ –•–û–†–û–®–û: –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è —Å SerializeField
[SerializeField] private float _speed = 5f;
[SerializeField] private Rigidbody2D _rigidbody;

// ‚ùå –ü–õ–û–•–û: –ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ–ª—è
public float speed = 5f;
public Rigidbody2D rigidbody;

// ‚úÖ –ò–°–ö–õ–Æ–ß–ï–ù–ò–ï: –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
[SerializeField] private float _speed = 5f;
public float Speed => _speed; // Read-only —Å–≤–æ–π—Å—Ç–≤–æ
```

### 8. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π —Å Header

```csharp
public class Character : MonoBehaviour
{
    [Header("Core Components")]
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private MoveComponent _moveComponent;

    [Header("Visual Components")]
    [SerializeField] private DamageAnimationComponent _damageAnimationComponent;
    [SerializeField] private SpriteRenderer _spriteRenderer;

    [Header("Audio")]
    [SerializeField] private AudioComponent _audioComponent;
    [SerializeField] private AudioClip _damageSound;
    [SerializeField] private AudioClip _jumpSound;

    [Header("Settings")]
    [SerializeField] private float _speed = 5f;
    [SerializeField] private int _maxHealth = 3;
}
```

### 9. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```csharp
/// <summary>
/// –£–ø—Ä–∞–≤–ª—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ–º –∏–≥—Ä–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.
/// –†–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å IDamageTaker –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞.
/// –ü—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è OnTakeDamage –∏ OnEmpty.
/// </summary>
public class LifeComponent : MonoBehaviour, IDamageTaker
{
    /// <summary>
    /// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —É—Ä–æ–Ω–∞
    /// </summary>
    public event Action OnTakeDamage;

    /// <summary>
    /// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∑–¥–æ—Ä–æ–≤—å–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –Ω—É–ª—è
    /// </summary>
    public event Action OnEmpty;

    /// <summary>
    /// –ù–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω –æ–±—ä–µ–∫—Ç—É
    /// </summary>
    /// <param name="damage">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–Ω–∞</param>
    /// <returns>true –µ—Å–ª–∏ —É—Ä–æ–Ω –±—ã–ª –Ω–∞–Ω–µ—Å—ë–Ω, false –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —É–∂–µ –º—ë—Ä—Ç–≤</returns>
    public bool TakeDamage(int damage)
    {
        // ...
    }
}
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ü—Ä–æ–µ–∫—Ç–∞

### Character (–ü–µ—Ä—Å–æ–Ω–∞–∂ –∏–≥—Ä–æ–∫–∞)

**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è:** `Character.cs:1`
```
Character =
    LifeComponent +           // –ó–¥–æ—Ä–æ–≤—å–µ
    MoveComponent +           // –î–≤–∏–∂–µ–Ω–∏–µ
    JumpComponent +           // –ü—Ä—ã–∂–æ–∫
    GroundCheckerComponent +  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–µ–º–ª–∏
    LookComponent +           // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞
    JumpAnimationComponent +  // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä—ã–∂–∫–∞
    DamageAnimationComponent + // –ê–Ω–∏–º–∞—Ü–∏—è —É—Ä–æ–Ω–∞
    AudioComponent +          // –ó–≤—É–∫
    ReloadComponent           // Cooldown –ø—Ä—ã–∂–∫–∞
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ú–∏–Ω–∏–º—É–º –ª–æ–≥–∏–∫–∏ –≤ —Å–∞–º–æ–º `Character`
- –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ª–æ–≤–∏–π –≤ `Awake()`
- Event-driven —Ä–µ–∞–∫—Ü–∏–∏

### Snake (–í—Ä–∞–≥-–∑–º–µ—è)

**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è:** `Snake.cs:1`
```
Snake =
    LifeComponent +           // –ó–¥–æ—Ä–æ–≤—å–µ
    TossComponent +           // –ü–æ–¥–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
    DamageMakerComponent +    // –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
    DamageAnimationComponent + // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
    AudioComponent            // –ó–≤—É–∫
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `LifeComponent` –æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- `TossComponent` –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∏–ª—ã
- –ú–æ–∂–µ—Ç –Ω–∞–Ω–æ—Å–∏—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å —É—Ä–æ–Ω

### Trampoline (–ë–∞—Ç—É—Ç)

**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è:** `Trampoline.cs:1`
```
Trampoline =
    CollisionComponent +      // –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
    TossComponent +           // –ü–æ–¥–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ
    AudioComponent            // –ó–≤—É–∫
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ù–µ—Ç `LifeComponent` (–Ω–µ –∂–∏–≤–æ–π –æ–±—ä–µ–∫—Ç)
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `TossComponent` –æ—Ç Snake
- –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –∫–∞–∫ –±—ã –≤—ã–≥–ª—è–¥–µ–ª–æ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º?

```csharp
// ‚ùå –ü–õ–û–•–û: –ì–ª—É–±–æ–∫–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
public class Entity : MonoBehaviour
{
    protected int health;
    protected AudioSource audioSource;

    public virtual void TakeDamage(int damage)
    {
        health -= damage;
        if (health <= 0) Die();
    }

    protected virtual void Die()
    {
        Destroy(gameObject);
    }
}

public class LivingEntity : Entity
{
    protected float speed;

    protected virtual void Move(Vector3 direction)
    {
        transform.position += direction * speed * Time.deltaTime;
    }
}

public class Character : LivingEntity
{
    private float jumpForce;

    private void Jump()
    {
        GetComponent<Rigidbody2D>().AddForce(Vector2.up * jumpForce);
    }
}

// –ü—Ä–æ–±–ª–µ–º—ã:
// - Snake –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Jump
// - Trampoline –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Toss
// - –ò–∑–º–µ–Ω–µ–Ω–∏–µ Entity –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–æ–≤
// - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏—è
```

---

## –¢–∏–ø–∏—á–Ω—ã–µ –û—à–∏–±–∫–∏

### ‚ùå –û—à–∏–±–∫–∞ 1: "God Object"

```csharp
// ‚ùå –ü–õ–û–•–û: –û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –≤—Å—ë
public class Player : MonoBehaviour
{
    private int health;
    private float speed;
    private bool isGrounded;
    private Animator animator;
    private AudioSource audioSource;

    private void Update()
    {
        HandleInput();
        Move();
        Jump();
        CheckGround();
        UpdateAnimation();
        CheckHealth();
        PlaySounds();
        // ... 500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
    }
}

// ‚úÖ –•–û–†–û–®–û: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
public class Character : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private MoveComponent _moveComponent;
    [SerializeField] private JumpComponent _jumpComponent;
    [SerializeField] private GroundCheckerComponent _groundCheckerComponent;
    [SerializeField] private AnimationComponent _animationComponent;
    [SerializeField] private AudioComponent _audioComponent;
}
```

### ‚ùå –û—à–∏–±–∫–∞ 2: GetComponent –≤ Update

```csharp
// ‚ùå –ü–õ–û–•–û: –ü–æ–∏—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
private void Update()
{
    GetComponent<Rigidbody2D>().velocity = Vector2.right * 5;
}

// ‚úÖ –•–û–†–û–®–û: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
[SerializeField] private Rigidbody2D _rigidbody;

private void Update()
{
    _rigidbody.velocity = Vector2.right * 5;
}
```

### ‚ùå –û—à–∏–±–∫–∞ 3: –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ —Å —Å–æ–±—ã—Ç–∏—è–º–∏

```csharp
// ‚ùå –ü–õ–û–•–û: –ü–æ–¥–ø–∏—Å–∫–∞ –±–µ–∑ –æ—Ç–ø–∏—Å–∫–∏
private void Start()
{
    _lifeComponent.OnTakeDamage += OnTakeDamage;
    // –û–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω —Å–Ω–æ–≤–∞
    // –ü–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –¥–≤–∞–∂–¥—ã!
}

// ‚úÖ –•–û–†–û–®–û: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
private void OnEnable()
{
    _lifeComponent.OnTakeDamage += OnTakeDamage;
}

private void OnDisable()
{
    _lifeComponent.OnTakeDamage -= OnTakeDamage;
}
```

### ‚ùå –û—à–∏–±–∫–∞ 4: –ñ—ë—Å—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

```csharp
// ‚ùå –ü–õ–û–•–û: –ü—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
public class MoveComponent : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;

    private void Move()
    {
        if (!_lifeComponent.IsAlive())
            return;

        // –î–≤–∏–∂–µ–Ω–∏–µ
    }
}

// ‚úÖ –•–û–†–û–®–û: –ß–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É —É—Å–ª–æ–≤–∏–π
public class MoveComponent : MonoBehaviour
{
    private readonly AndCondition _andCondition = new();

    public void AddCondition(Func<bool> condition)
        => _andCondition.AddCondition(condition);

    private void Move()
    {
        if (!_andCondition.IsTrue())
            return;

        // –î–≤–∏–∂–µ–Ω–∏–µ
    }
}

// –í Character:
_moveComponent.AddCondition(_lifeComponent.IsAlive);
```

### ‚ùå –û—à–∏–±–∫–∞ 5: –ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ–ª—è –≤–º–µ—Å—Ç–æ SerializeField

```csharp
// ‚ùå –ü–õ–û–•–û: –ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ–ª—è
public class MoveComponent : MonoBehaviour
{
    public float speed = 5f;              // –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
    public Rigidbody2D rigidbody;        // –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏
}

// ‚úÖ –•–û–†–û–®–û: –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è —Å SerializeField
public class MoveComponent : MonoBehaviour
{
    [SerializeField] private float _speed = 5f;
    [SerializeField] private Rigidbody2D _rigidbody;

    // –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø - —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ
    public float Speed => _speed;
}
```

### ‚ùå –û—à–∏–±–∫–∞ 6: –ü—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

```csharp
// ‚ùå –ü–õ–û–•–û: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
public class BaseEnemy : MonoBehaviour
{
    protected int health;

    public virtual void TakeDamage(int damage)
    {
        health -= damage;
    }
}

public class Snake : BaseEnemy { }
public class Spider : BaseEnemy { }

// ‚úÖ –•–û–†–û–®–û: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
public class LifeComponent : MonoBehaviour
{
    public bool TakeDamage(int damage) { /* ... */ }
}

public class Snake : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;
}

public class Spider : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;
}
```

### ‚ùå –û—à–∏–±–∫–∞ 7: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

```csharp
// ‚ùå –ü–õ–û–•–û: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
public class DamageMakerComponent : MonoBehaviour
{
    private void OnCollisionEnter2D(Collision2D collision)
    {
        var life = collision.gameObject.GetComponent<LifeComponent>();
        if (life != null)
        {
            life.TakeDamage(1);
        }
    }
}

// ‚úÖ –•–û–†–û–®–û: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
public interface IDamageTaker
{
    bool TakeDamage(int damage);
}

public class DamageMakerComponent : MonoBehaviour
{
    private void OnCollisionEnter2D(Collision2D collision)
    {
        if (collision.gameObject.TryGetComponent(out IDamageTaker damageTaker))
        {
            damageTaker.TakeDamage(_damage);
        }
    }
}
```

---

## –ß–µ–∫–ª–∏—Å—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```
‚ñ° –ò–º—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "Component"?
‚ñ° –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç MonoBehaviour?
‚ñ° –î–µ–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≤–µ—â—å?
‚ñ° –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ [SerializeField]?
‚ñ° –ù–µ—Ç GetComponent –≤ Update/FixedUpdate?
‚ñ° –ï—Å—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π?
‚ñ° –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞/–æ—Ç–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è (OnEnable/OnDisable)?
‚ñ° –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è —Å _prefix?
‚ñ° –õ–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
‚ñ° –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö?
```

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:

```
‚ñ° –û–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
‚ñ° –ú–∏–Ω–∏–º—É–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏?
‚ñ° –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ SerializeField?
‚ñ° –£—Å–ª–æ–≤–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Awake()?
‚ñ° –ü–æ–¥–ø–∏—Å–∫–∏ –≤ OnEnable(), –æ—Ç–ø–∏—Å–∫–∏ –≤ OnDisable()?
‚ñ° –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?
```

### –ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ:

```
‚ñ° –ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ?
‚ñ° –ï—Å—Ç—å –ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏?
‚ñ° –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–≤–ª–µ—á—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç?
‚ñ° –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–∞–º, –≥–¥–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—è?
‚ñ° –ï—Å—Ç—å –ª–∏ "God Objects"?
‚ñ° –í—Å–µ –ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω—ã–µ?
```

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:

```
‚ñ° –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞–º?
‚ñ° –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã?
‚ñ° –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (—Å–æ–±—ã—Ç–∏—è –æ—Ç–ø–∏—Å—ã–≤–∞—é—Ç—Å—è)?
‚ñ° –ù–µ—Ç GetComponent –≤ –≥–æ—Ä—è—á–∏—Ö –ø—É—Ç—è—Ö?
‚ñ° –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞?
‚ñ° –ö–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω (XML –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)?
‚ñ° –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)?
```

---

## GameShooter: –ü—Ä–∏–º–µ—Ä 3D –®—É—Ç–µ—Ä–∞

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Unity Way –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ 3D —à—É—Ç–µ—Ä–∞ —Å —Ç—É—Ä–µ–ª—è–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π –æ—Ä—É–∂–∏—è.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ GameShooter

```
Assets/GameShooter/
‚îú‚îÄ‚îÄ Scripts/
‚îÇ   ‚îú‚îÄ‚îÄ Common/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AndCondition.cs        # –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —É—Å–ª–æ–≤–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ Components/                # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConditionComponent.cs  # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å —É—Å–ª–æ–≤–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IDamageable.cs         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ILeftHandComponent.cs  # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ª–µ–≤–æ–π —Ä—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IRightHandComponent.cs # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∞–≤–æ–π —Ä—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DetectTargetComponent.cs # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LifeComponent.cs       # –ó–¥–æ—Ä–æ–≤—å–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MoveComponent.cs       # –î–≤–∏–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReloadComponent.cs     # –ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RotateComponent.cs     # –í—Ä–∞—â–µ–Ω–∏–µ –≤ 3D
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ShootComponent.cs      # –°—Ç—Ä–µ–ª—å–±–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TakeDamageProxy.cs     # –ü—Ä–æ–∫—Å–∏ –¥–ª—è —É—Ä–æ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/               # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤–≤–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MoveController.cs      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–µ–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ShootController.cs     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª—å–±–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ Objects/                   # –ò–≥—Ä–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ       ‚îú‚îÄ‚îÄ Bullet.cs              # –ü—É–ª—è
‚îÇ       ‚îú‚îÄ‚îÄ Character.cs           # –ü–µ—Ä—Å–æ–Ω–∞–∂ –∏–≥—Ä–æ–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ Tower.cs               # –¢—É—Ä–µ–ª—å (AI)
```

### –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

#### Character (–ò–≥—Ä–æ–∫)

```
Character =
    LifeComponent +           // –ó–¥–æ—Ä–æ–≤—å–µ
    MoveComponent +           // –î–≤–∏–∂–µ–Ω–∏–µ WASD
    RotateComponent +         // –ü–æ–≤–æ—Ä–æ—Ç –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
    ShootComponent (Right) +  // –°—Ç—Ä–µ–ª—å–±–∞ –ø—Ä–∞–≤–æ–π —Ä—É–∫–æ–π (Space)
    ShootComponent (Left)     // –°—Ç—Ä–µ–ª—å–±–∞ –ª–µ–≤–æ–π —Ä—É–∫–æ–π (E)
```

```csharp
// Character.cs ‚Äî –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞
public class Character : MonoBehaviour, IRightHandComponent, ILeftHandComponent
{
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private RotateComponent _rotateComponent;
    [SerializeField] private MoveComponent _moveComponent;
    [SerializeField] private ShootComponent _rightHandShootComponent;
    [SerializeField] private ShootComponent _leftHandShootComponent;

    private void Awake()
    {
        // –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂ –∂–∏–≤
        _rightHandShootComponent.AddCondition(_lifeComponent.IsAlive);
        _leftHandShootComponent.AddCondition(_lifeComponent.IsAlive);
        _rotateComponent.AddCondition(_lifeComponent.IsAlive);
        _moveComponent.AddCondition(_lifeComponent.IsAlive);
    }

    private void OnEnable()
    {
        _lifeComponent.OnEmpty += OnHealthEmpty;
    }

    private void OnDisable()
    {
        _lifeComponent.OnEmpty -= OnHealthEmpty;
    }

    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
    void IRightHandComponent.Shoot() => _rightHandShootComponent.Shoot();
    void ILeftHandComponent.Shoot() => _leftHandShootComponent.Shoot();

    private void OnHealthEmpty()
    {
        gameObject.SetActive(false);
    }
}
```

#### Tower (AI –¢—É—Ä–µ–ª—å)

```
Tower =
    LifeComponent +           // –ó–¥–æ—Ä–æ–≤—å–µ
    RotateComponent +         // –ü–æ–≤–æ—Ä–æ—Ç –∫ —Ü–µ–ª–∏
    ShootComponent +          // –°—Ç—Ä–µ–ª—å–±–∞
    ReloadComponent +         // –ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞
    DetectTargetComponent     // –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
```

```csharp
// Tower.cs ‚Äî AI-—É–ø—Ä–∞–≤–ª—è–µ–º–∞—è —Ç—É—Ä–µ–ª—å
public class Tower : MonoBehaviour
{
    [SerializeField] private LifeComponent _lifeComponent;
    [SerializeField] private RotateComponent _rotateComponent;
    [SerializeField] private ShootComponent _shootComponent;
    [SerializeField] private ReloadComponent _reloadComponent;
    [SerializeField] private DetectTargetComponent _detectTargetComponent;

    private void Awake()
    {
        // –¢—É—Ä–µ–ª—å –≤—Ä–∞—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∂–∏–≤–∞
        _rotateComponent.AddCondition(_lifeComponent.IsAlive);

        // –¢—É—Ä–µ–ª—å —Å—Ç—Ä–µ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
        _shootComponent.AddCondition(_lifeComponent.IsAlive);      // 1. –ñ–∏–≤–∞
        _shootComponent.AddCondition(_detectTargetComponent.HasTarget); // 2. –ï—Å—Ç—å —Ü–µ–ª—å
        _shootComponent.AddCondition(_reloadComponent.IsReady);    // 3. –ü–µ—Ä–µ–∑–∞—Ä—è–∂–µ–Ω–∞
    }

    private void OnEnable()
    {
        _shootComponent.OnFire += _reloadComponent.Reload; // –ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞ –ø–æ—Å–ª–µ –≤—ã—Å—Ç—Ä–µ–ª–∞
        _lifeComponent.OnEmpty += OnHealthEmpty;
    }

    private void OnDisable()
    {
        _shootComponent.OnFire -= _reloadComponent.Reload;
        _lifeComponent.OnEmpty -= OnHealthEmpty;
    }

    private void Update()
    {
        // AI –ª–æ–≥–∏–∫–∞: –ø–æ–≤–æ—Ä–æ—Ç –∫ —Ü–µ–ª–∏ –∏ –ø–æ–ø—ã—Ç–∫–∞ –≤—ã—Å—Ç—Ä–µ–ª–∞
        _rotateComponent.SetDirection(_detectTargetComponent.GetTarget());
        _shootComponent.Shoot(); // –£—Å–ª–æ–≤–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏
    }

    private void OnHealthEmpty()
    {
        Destroy(gameObject);
    }
}
```

#### Bullet (–ü—É–ª—è)

```csharp
// Bullet.cs ‚Äî –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
public class Bullet : MonoBehaviour
{
    [SerializeField] private int _damage = 2;

    private void OnTriggerEnter(Collider other)
    {
        // –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –º–æ–∂–µ—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å –ª—é–±–æ–π IDamageable
        if (other.TryGetComponent(out IDamageable damageable))
        {
            damageable.TakeDamage(_damage);
        }
    }
}
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω: Weapon Slot System (–°–∏—Å—Ç–µ–º–∞ —Å–ª–æ—Ç–æ–≤ –æ—Ä—É–∂–∏—è)

### –ü—Ä–æ–±–ª–µ–º–∞

–ü–µ—Ä—Å–æ–Ω–∞–∂—É –Ω—É–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ—Ç–æ–≤ –¥–ª—è –æ—Ä—É–∂–∏—è (–ª–µ–≤–∞—è —Ä—É–∫–∞, –ø—Ä–∞–≤–∞—è —Ä—É–∫–∞), –∫–∞–∂–¥—ã–π —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

### –†–µ—à–µ–Ω–∏–µ: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–ª–æ—Ç–æ–≤

```csharp
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–∞–≤–æ–π —Ä—É–∫–∏
public interface IRightHandComponent
{
    void Shoot();
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ª–µ–≤–æ–π —Ä—É–∫–∏
public interface ILeftHandComponent
{
    void Shoot();
}
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ Character

```csharp
public class Character : MonoBehaviour, IRightHandComponent, ILeftHandComponent
{
    [SerializeField] private ShootComponent _rightHandShootComponent;
    [SerializeField] private ShootComponent _leftHandShootComponent;

    // –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    void IRightHandComponent.Shoot() => _rightHandShootComponent.Shoot();
    void ILeftHandComponent.Shoot() => _leftHandShootComponent.Shoot();
}
```

### –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```csharp
public class ShootController : MonoBehaviour
{
    [SerializeField] private GameObject _character;

    private IRightHandComponent _rightHandComponent;
    private ILeftHandComponent _leftHandComponent;

    private void Awake()
    {
        // –†–∞–±–æ—Ç–∞–µ–º —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏
        _rightHandComponent = _character.GetComponent<IRightHandComponent>();
        _leftHandComponent = _character.GetComponent<ILeftHandComponent>();
    }

    private void Update()
    {
        if (Input.GetKeyDown(KeyCode.Space))
            _rightHandComponent.Shoot();

        if (Input.GetKeyDown(KeyCode.E))
            _leftHandComponent.Shoot();
    }
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å–ª–æ—Ç—ã (ISpecialAbilityComponent, IMeleeComponent)
2. **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**: –†–∞–∑–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –º–æ–≥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–ª–æ—Ç—ã –ø–æ-—Ä–∞–∑–Ω–æ–º—É
3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å mock-–æ–±—ä–µ–∫—Ç–∞–º–∏
4. **–ì–∏–±–∫–æ—Å—Ç—å**: –û–¥–∏–Ω ShootComponent –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Å–ª–æ—Ç—ã

---

## –ü–∞—Ç—Ç–µ—Ä–Ω: AI vs Player Controller

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∑–Ω–∞—é—Ç, –∫—Ç–æ –∏–º–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç ‚Äî –∏–≥—Ä–æ–∫ –∏–ª–∏ AI. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥.

### Player Controller

```csharp
public class MoveController : MonoBehaviour
{
    [SerializeField] private GameObject _character;

    private MoveComponent _moveComponent;
    private RotateComponent _rotateComponent;

    private void Awake()
    {
        _moveComponent = _character.GetComponent<MoveComponent>();
        _rotateComponent = _character.GetComponent<RotateComponent>();
    }

    private void Update()
    {
        HandleKeyboard();
    }

    private void HandleKeyboard()
    {
        Vector3 direction = Vector3.zero;

        if (Input.GetKey(KeyCode.UpArrow))
            direction = Vector3.forward;
        else if (Input.GetKey(KeyCode.DownArrow))
            direction = Vector3.back;
        else if (Input.GetKey(KeyCode.LeftArrow))
            direction = Vector3.left;
        else if (Input.GetKey(KeyCode.RightArrow))
            direction = Vector3.right;

        _moveComponent.SetDirection(direction);
        _rotateComponent.SetDirection(direction);
    }
}
```

### AI Controller (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Tower)

```csharp
// –í Tower.Update()
private void Update()
{
    // AI –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    var target = _detectTargetComponent.GetTarget();
    _rotateComponent.SetDirection(target);
    _shootComponent.Shoot(); // –£—Å–ª–æ–≤–∏—è —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –≤—ã—Å—Ç—Ä–µ–ª—ã
}
```

### –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π AI Controller (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

```csharp
public class AITowerController : MonoBehaviour
{
    [SerializeField] private RotateComponent _rotateComponent;
    [SerializeField] private ShootComponent _shootComponent;
    [SerializeField] private DetectTargetComponent _detectTargetComponent;

    private void Update()
    {
        var target = _detectTargetComponent.GetTarget();

        if (target != null)
        {
            _rotateComponent.SetDirection(target);
            _shootComponent.Shoot();
        }
    }
}
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ê—Å–ø–µ–∫—Ç | Player Controller | AI Controller |
|--------|------------------|---------------|
| –ò—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥ | Input.GetKey | –ê–ª–≥–æ—Ä–∏—Ç–º/AI |
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | –¢–µ –∂–µ —Å–∞–º—ã–µ | –¢–µ –∂–µ —Å–∞–º—ã–µ |
| –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ | –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç Update |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ü—Ä–æ—Å—Ç–æ–π | –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º |

---

## –ü–∞—Ç—Ç–µ—Ä–Ω: ConditionComponent (–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–ª–æ–≤–∏–π

–ï—Å–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç —Å–∏—Å—Ç–µ–º—É —É—Å–ª–æ–≤–∏–π, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å.

```csharp
// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å —Å–∏—Å—Ç–µ–º–æ–π —É—Å–ª–æ–≤–∏–π
public class ConditionComponent : MonoBehaviour
{
    protected AndCondition AndCondition = new();

    public void AddCondition(Func<bool> condition)
    {
        AndCondition.AddCondition(condition);
    }
}
```

### ShootComponent –Ω–∞—Å–ª–µ–¥—É–µ—Ç ConditionComponent

```csharp
public class ShootComponent : ConditionComponent
{
    public event Action OnFire;

    [SerializeField] private GameObject _bulletPrefab;
    [SerializeField] private Transform _shootPoint;

    public void Shoot()
    {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º AndCondition –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
        if (!AndCondition.IsTrue())
            return;

        var bullet = Instantiate(_bulletPrefab, _shootPoint.position, Quaternion.identity);

        if (bullet.TryGetComponent(out MoveComponent moveComponent))
            moveComponent.SetDirection(_shootPoint.forward);

        OnFire?.Invoke();
    }
}
```

### –ö–æ–≥–¥–∞ —ç—Ç–æ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ?

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–≥–¥–∞:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (5+) —Ç—Ä–µ–±—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —É—Å–ª–æ–≤–∏–π
- –ë–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç >80% –∫–æ–¥–∞
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –±–∞–∑–æ–≤—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é (–ø–æ–ª–µ AndCondition) –∫–æ–≥–¥–∞:**
- –ú–∞–ª–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —É—Å–ª–æ–≤–∏—è–º–∏ (1-3)
- –ù—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤
- –†–∞–∑–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—É—é –ª–æ–≥–∏–∫—É —É—Å–ª–æ–≤–∏–π

---

## –î—Ä–æ–±–ª–µ–Ω–∏–µ —Ñ–∏—á–∏: –°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–µ–ª—å–±—ã –≤ 3D —à—É—Ç–µ—Ä–µ

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Ñ–∏—á–∏ "–°—Ç—Ä–µ–ª—å–±–∞"

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä—Å–æ–Ω–∞–∂ –º–æ–∂–µ—Ç —Å—Ç—Ä–µ–ª—è—Ç—å –∏–∑ –¥–≤—É—Ö —Ä—É–∫, —Ç—É—Ä–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç—Ä–µ–ª—è–µ—Ç –ø–æ –∏–≥—Ä–æ–∫—É.

**–ê—Å–ø–µ–∫—Ç—ã:**
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∏
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Å—Ç—Ä–µ–ª–∞
- –£—Å–ª–æ–≤–∏—è (–∂–∏–≤? –ø–µ—Ä–µ–∑–∞—Ä—è–∂–µ–Ω? –µ—Å—Ç—å —Ü–µ–ª—å?)
- –ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–µ–ª–∏ (–¥–ª—è AI)
- –ù–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ –ø—É–ª–µ–π

### –®–∞–≥ 2: –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –°–ò–°–¢–ï–ú–ê –°–¢–†–ï–õ–¨–ë–´                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ  ‚îÇ ShootComponent  ‚îÇ    ‚îÇ ReloadComponent ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ    ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ –°–æ–∑–¥–∞—ë—Ç –ø—É–ª—é  ‚îÇ    ‚îÇ ‚Ä¢ Cooldown      ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ –ó–∞–¥–∞—ë—Ç –Ω–∞–ø—Ä.  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÇ ‚Ä¢ IsReady()     ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ –°–æ–±—ã—Ç–∏–µ OnFire‚îÇ    ‚îÇ ‚Ä¢ Reload()      ‚îÇ                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ           ‚îÇ                                                 ‚îÇ
‚îÇ           ‚ñº                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇ     Bullet      ‚îÇ    ‚îÇ DetectTargetComponent‚îÇ            ‚îÇ
‚îÇ  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ    ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ MoveComponent ‚îÇ    ‚îÇ ‚Ä¢ –ü–æ–∏—Å–∫ —Ü–µ–ª–∏         ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ OnTrigger     ‚îÇ    ‚îÇ ‚Ä¢ HasTarget()        ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ IDamageable   ‚îÇ    ‚îÇ ‚Ä¢ GetTarget()        ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –®–∞–≥ 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### ShootComponent ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∏

```csharp
public class ShootComponent : ConditionComponent
{
    public event Action OnFire;

    [SerializeField] private GameObject _bulletPrefab;
    [SerializeField] private Transform _shootPoint;

    public void Shoot()
    {
        if (!AndCondition.IsTrue())
            return;

        // –°–æ–∑–¥–∞—ë–º –ø—É–ª—é
        var bullet = Instantiate(_bulletPrefab, _shootPoint.position, Quaternion.identity);

        // –ó–∞–¥–∞—ë–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
        if (bullet.TryGetComponent(out MoveComponent moveComponent))
            moveComponent.SetDirection(_shootPoint.forward);

        OnFire?.Invoke();
    }
}
```

#### ReloadComponent ‚Äî cooldown

```csharp
public class ReloadComponent : MonoBehaviour
{
    [SerializeField] private float _maxTime;
    private float _currentTime;
    private bool _isReady;

    private void Update()
    {
        _currentTime += Time.deltaTime;

        if (_currentTime > _maxTime && !_isReady)
        {
            _isReady = true;
        }
    }

    public bool IsReady() => _isReady;

    public void Reload()
    {
        _isReady = false;
        _currentTime = 0f;
    }
}
```

#### DetectTargetComponent ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–µ–ª–∏

```csharp
public class DetectTargetComponent : MonoBehaviour
{
    [SerializeField] private float _detectDistance = 3f;
    [SerializeField] private GameObject _character;

    public Transform GetTarget()
    {
        var direction = _character.transform.position - transform.position;

        if (direction.sqrMagnitude <= _detectDistance * _detectDistance)
        {
            return _character.transform;
        }

        return null;
    }

    public bool HasTarget() => GetTarget() != null;
}
```

### –®–∞–≥ 4: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤ Tower

```csharp
private void Awake()
{
    // –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —É—Å–ª–æ–≤–∏–π
    _shootComponent.AddCondition(_lifeComponent.IsAlive);
    _shootComponent.AddCondition(_detectTargetComponent.HasTarget);
    _shootComponent.AddCondition(_reloadComponent.IsReady);
}

private void OnEnable()
{
    // –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
    _shootComponent.OnFire += _reloadComponent.Reload;
}
```

### –®–∞–≥ 5: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ SOLID

| –ü—Ä–∏–Ω—Ü–∏–ø | –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| **S** ‚Äî Single Responsibility | –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–æ –¥–µ–ª–æ | ‚úÖ |
| **O** ‚Äî Open/Closed | –£—Å–ª–æ–≤–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ | ‚úÖ |
| **L** ‚Äî Liskov Substitution | –õ—é–±–æ–π IDamageable –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —É—Ä–æ–Ω | ‚úÖ |
| **I** ‚Äî Interface Segregation | –ú–∞–ª–µ–Ω—å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (IDamageable, IRightHand) | ‚úÖ |
| **D** ‚Äî Dependency Inversion | Bullet –∑–∞–≤–∏—Å–∏—Ç –æ—Ç IDamageable, –Ω–µ –æ—Ç LifeComponent | ‚úÖ |

---

## 3D vs 2D: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

### RotateComponent –¥–ª—è 3D

```csharp
public class RotateComponent : MonoBehaviour
{
    [SerializeField] private Transform _rotationRoot;
    [SerializeField] private float _rotateRate;

    private Vector3 _rotateDirection;
    private AndCondition _andCondition = new();

    public void SetDirection(Vector3 direction)
    {
        _rotateDirection = direction;
    }

    public void SetDirection(Transform target)
    {
        if (target == null) return;

        var direction = target.position - transform.position;
        direction.y = 0f; // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞
        SetDirection(direction);
    }

    private void Rotate()
    {
        if (!_andCondition.IsTrue() || _rotateDirection == Vector3.zero)
            return;

        // 3D –ø–æ–≤–æ—Ä–æ—Ç —á–µ—Ä–µ–∑ Quaternion
        var targetRotation = Quaternion.LookRotation(_rotateDirection, Vector3.up);
        _rotationRoot.rotation = Quaternion.Lerp(
            _rotationRoot.rotation,
            targetRotation,
            _rotateRate
        );
    }
}
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ 2D –∏ 3D –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ê—Å–ø–µ–∫—Ç | 2D –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä | 3D –®—É—Ç–µ—Ä |
|--------|---------------|----------|
| **–î–≤–∏–∂–µ–Ω–∏–µ** | `Vector2`, Rigidbody2D | `Vector3`, Transform |
| **–ü–æ–≤–æ—Ä–æ—Ç** | `SpriteRenderer.flipX` –∏–ª–∏ `localScale.x` | `Quaternion.LookRotation` |
| **–°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è** | `OnCollisionEnter2D`, `OnTriggerEnter2D` | `OnCollisionEnter`, `OnTriggerEnter` |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–µ–º–ª–∏** | `Physics2D.OverlapCircle` | `Physics.SphereCast` |
| **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | `Vector2.left/right` | `Vector3.forward/back/left/right` |

### –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–∞–∑–ª–∏—á–∏—è –≤ –∏–∑–º–µ—Ä–µ–Ω–∏—è—Ö, –º–Ω–æ–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏:

```csharp
// –†–∞–±–æ—Ç–∞–µ—Ç –∏ –≤ 2D, –∏ –≤ 3D –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
public class LifeComponent : MonoBehaviour, IDamageable
{
    public event Action OnEmpty;

    [SerializeField] private int _hitPoints;

    public void TakeDamage(int damage)
    {
        _hitPoints -= damage;
        if (_hitPoints <= 0)
            OnEmpty?.Invoke();
    }

    public bool IsAlive() => _hitPoints > 0;
}

// ReloadComponent ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç –∏–∑–º–µ—Ä–µ–Ω–∏–π
public class ReloadComponent : MonoBehaviour
{
    [SerializeField] private float _maxTime;
    private float _currentTime;

    public bool IsReady() => _currentTime >= _maxTime;
    public void Reload() => _currentTime = 0f;
}

// AndCondition ‚Äî —á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ –æ—Ç Unity
public class AndCondition
{
    private readonly List<Func<bool>> _conditions = new();

    public bool IsTrue()
    {
        foreach (var condition in _conditions)
            if (!condition()) return false;
        return true;
    }
}
```

---

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è —à—É—Ç–µ—Ä–∞

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã –æ—Ä—É–∂–∏—è:

```
‚ñ° –û—Ä—É–∂–∏–µ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (ShootComponent)?
‚ñ° –ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (ReloadComponent)?
‚ñ° –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–ª–æ—Ç–æ–≤ (ILeftHand, IRightHand)?
‚ñ° –ü—É–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É—Ä–æ–Ω–∞ (IDamageable)?
‚ñ° –£—Å–ª–æ–≤–∏—è —Å—Ç—Ä–µ–ª—å–±—ã —á–µ—Ä–µ–∑ AddCondition?
‚ñ° –°–æ–±—ã—Ç–∏–µ OnFire –¥–ª—è —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏?
```

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ AI –≤—Ä–∞–≥–∞:

```
‚ñ° AI –ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
‚ñ° –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫ —É –∏–≥—Ä–æ–∫–∞?
‚ñ° DetectTargetComponent –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ü–µ–ª–∏?
‚ñ° –£—Å–ª–æ–≤–∏—è –≤–∫–ª—é—á–∞—é—Ç HasTarget?
‚ñ° –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å AI –Ω–∞ Player Controller?
```

### –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å 2D –Ω–∞ 3D:

```
‚ñ° Vector2 ‚Üí Vector3?
‚ñ° Rigidbody2D ‚Üí Rigidbody –∏–ª–∏ Transform?
‚ñ° OnCollisionEnter2D ‚Üí OnCollisionEnter?
‚ñ° Physics2D ‚Üí Physics?
‚ñ° Quaternion.LookRotation –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞?
‚ñ° –£—á—Ç–µ–Ω–∞ –æ—Å—å Y (–≤–µ—Ä—Ç–∏–∫–∞–ª—å)?
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Unity Way:

1. **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è > –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** (–≤ 95% —Å–ª—É—á–∞–µ–≤)
2. **–û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** (SRP)
3. **Event-Driven Architecture** (—Å–ª–∞–±–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ)
4. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** (–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º)
5. **–Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (SerializeField)
6. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** (Open/Closed Principle)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:

- üîÑ –í—ã—Å–æ–∫–∞—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- üß© –ì–∏–±–∫–æ—Å—Ç—å –≤ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–π
- üß™ –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üì¶ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
- üöÄ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üë• –ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
- üéØ –§–æ–∫—É—Å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:

- Template Method Pattern (–æ–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º)
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º 80%+ –±–∞–∑–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- –ß—ë—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ "is-a"

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
2. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —Ä–∞–∑–±–∏–≤–∞—Ç—å —Ñ–∏—á–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
4. –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã
5. –ü–∏—à–∏—Ç–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –°—Ç–∞—Ç—å–∏ –∏ —Ç—É—Ç–æ—Ä–∏–∞–ª—ã:
- [How to use script composition in Unity - Game Dev Beginner](https://gamedevbeginner.com/how-to-use-script-composition-in-unity/)
- [Level up your code with game programming patterns - Unity Blog](https://blog.unity.com/games/level-up-your-code-with-game-programming-patterns)
- [Composition Over Inheritance: Best Practices for 2025](https://toxigon.com/composition-over-inheritance-best-practices)
- [Simplifying Game Development with Component-Based Architecture in Unity](https://azumo.com/insights/simplifying-game-development-with-component-based-architecture-in-unity)
- [The Importance and Application of SOLID Principles in Unity](https://medium.com/@mthndmr16/the-importance-and-application-of-solid-principles-in-unity-game-development-94be186ad51f)

### Stack Overflow –æ–±—Å—É–∂–¥–µ–Ω–∏—è:
- [Composition over inheritance - Weapon system](https://stackoverflow.com/questions/19344639/composition-over-inheritance-weapon-system)
- [Should I avoid using object inheritance as possible to develop a game?](https://gamedev.stackexchange.com/questions/160604/should-i-avoid-using-object-inheritance-as-possible-to-develop-a-game)

### Unity –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [Unity Design Patterns Course](https://learn.unity.com/project/65de084fedbc2a0699d68bfb)
- [Game programming patterns in Unity with C#](https://www.habrador.com/tutorials/programming-patterns/)

---

**–í–µ—Ä—Å–∏—è:** 2.0
**–î–∞—Ç–∞:** 2025-11-27
**–ê–≤—Ç–æ—Ä:** Senior Unity Developer & Prompt Engineer
**–ü—Ä–æ–µ–∫—Ç:** component-way

### –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|--------|------|-----------|
| 1.0 | 2025-11-24 | –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è: –æ—Å–Ω–æ–≤—ã Unity Way, SOLID, –ø–∞—Ç—Ç–µ—Ä–Ω—ã |
| 2.0 | 2025-11-27 | –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª GameShooter: 3D —à—É—Ç–µ—Ä, Weapon Slots, AI Controller, ConditionComponent |
